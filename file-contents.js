const fileContents = {
  "config": [
    {
      "name": "CorsConfig.java",
      "path": "src/main/java/com/polytech/polytech/config/CorsConfig.java",
      "content": "package com.polytech.polytech.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\n@Configuration\npublic class CorsConfig {\n\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n\n\n        config.setAllowCredentials(true);\n\n\n        config.addAllowedOrigin(&quot;http://localhost:4200&quot;);\n\n\n        config.addAllowedHeader(&quot;*&quot;);\n\n\n        config.addAllowedMethod(&quot;*&quot;);\n\n\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n\n        return new CorsFilter(source);\n    }\n}"
    },
    {
      "name": "SecurityConfig.java",
      "path": "src/main/java/com/polytech/polytech/config/SecurityConfig.java",
      "content": "package com.polytech.polytech.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable()) // d\u00e9sactive CSRF pour les tests avec Postman\n                .authorizeHttpRequests(auth -&gt; auth\n                        .anyRequest().permitAll() // autorise toutes les requ\u00eates\n                );\n        return http.build();\n    }\n}\n"
    }
  ],
  "controller": [
    {
      "name": "BoiteController.java",
      "path": "src/main/java/com/polytech/polytech/controller/BoiteController.java",
      "content": "package com.polytech.polytech.controller;\n\nimport com.polytech.polytech.dto.BoiteRequestDto;\nimport com.polytech.polytech.dto.BoiteResponseDto;\nimport com.polytech.polytech.service.BoiteService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/boites&quot;)\npublic class BoiteController {\n\n    private final BoiteService boiteService;\n\n    @Autowired\n    public BoiteController(BoiteService boiteService) {\n        this.boiteService = boiteService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;BoiteResponseDto&gt;&gt; getAllBoites() {\n        List&lt;BoiteResponseDto&gt; boites = boiteService.getAllBoites();\n        return ResponseEntity.ok(boites);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;BoiteResponseDto&gt; getBoiteById(@PathVariable Long id) {\n        BoiteResponseDto boite = boiteService.getBoiteParId(id);\n        return ResponseEntity.ok(boite);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;BoiteResponseDto&gt; createBoite(@RequestBody BoiteRequestDto boiteRequestDto) {\n        BoiteResponseDto savedBoite = boiteService.createBoite(boiteRequestDto);\n        return ResponseEntity.ok(savedBoite);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;BoiteResponseDto&gt; updateBoite(@PathVariable Long id,\n                                                        @Valid @RequestBody BoiteRequestDto boiteRequestDto) {\n        BoiteResponseDto updatedBoite = boiteService.updateBoite(id, boiteRequestDto);\n        return ResponseEntity.ok(updatedBoite);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteBoite(@PathVariable Long id) {\n        boiteService.deleteBoite(id);\n        return ResponseEntity.noContent().build();\n    }\n}\n"
    },
    {
      "name": "CoordonneesController.java",
      "path": "src/main/java/com/polytech/polytech/controller/CoordonneesController.java",
      "content": "package com.polytech.polytech.controller;\n\nimport com.polytech.polytech.dto.CoordonneesRequestDto;\nimport com.polytech.polytech.dto.CoordonneesResponseDto;\nimport com.polytech.polytech.service.CoordonneesService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/coordonnees&quot;)\npublic class CoordonneesController {\n\n    private final CoordonneesService coordonneesService;\n\n    @Autowired\n    public CoordonneesController(CoordonneesService coordonneesService) {\n        this.coordonneesService = coordonneesService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;CoordonneesResponseDto&gt;&gt; getAllCoordonnees() {\n        List&lt;CoordonneesResponseDto&gt; coordonnees = coordonneesService.getAllCoordonnees();\n        return ResponseEntity.ok(coordonnees);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;CoordonneesResponseDto&gt; getCoordonneesById(@PathVariable Long id) {\n        CoordonneesResponseDto coord = coordonneesService.getCoordonneesParId(id);\n        return ResponseEntity.ok(coord);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;CoordonneesResponseDto&gt; createCoordonnees(\n            @Valid @RequestBody CoordonneesRequestDto requestDto) {\n        CoordonneesResponseDto savedCoord = coordonneesService.createCoordonnees(requestDto);\n        return ResponseEntity.ok(savedCoord);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;CoordonneesResponseDto&gt; updateCoordonnees(\n            @PathVariable Long id,\n            @Valid @RequestBody CoordonneesRequestDto requestDto) {\n        CoordonneesResponseDto updatedCoord = coordonneesService.updateCoordonnees(id, requestDto);\n        return ResponseEntity.ok(updatedCoord);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteCoordonnees(@PathVariable Long id) {\n        coordonneesService.deleteCoordonnees(id);\n        return ResponseEntity.noContent().build();\n    }\n}\n"
    },
    {
      "name": "ReservationController.java",
      "path": "src/main/java/com/polytech/polytech/controller/ReservationController.java",
      "content": "package com.polytech.polytech.controller;\n\n\nimport com.polytech.polytech.dto.ReservationRequestDto;\nimport com.polytech.polytech.dto.ReservationResponseDto;\nimport com.polytech.polytech.service.ReservationService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/reservations&quot;)\npublic class ReservationController {\n    private final ReservationService reservationService;\n\n    public ReservationController(ReservationService reservationService) {\n        this.reservationService = reservationService;\n    }\n\n    @GetMapping\n    public List&lt;ReservationResponseDto&gt; getAllReservations() {\n        return reservationService.getallReservations();\n    }\n\n    @PostMapping\n    public ReservationResponseDto createReservation(@RequestBody ReservationRequestDto dto) {\n        return reservationService.createReservation(dto);\n    }\n\n    @PutMapping(&quot;/{utilisateurId}/{boiteId}&quot;)\n    public ReservationResponseDto updateReservation(\n            @PathVariable Long utilisateurId,\n            @PathVariable Long boiteId,\n            @RequestBody ReservationRequestDto dto) {\n        return reservationService.updateReservation(utilisateurId, boiteId, dto);\n    }\n\n    @DeleteMapping(&quot;/{utilisateurId}/{boiteId}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteReservation(\n            @PathVariable Long utilisateurId,\n            @PathVariable Long boiteId) {\n        reservationService.deleteReservation(utilisateurId, boiteId);\n        return ResponseEntity.noContent().build();\n    }\n\n}\n\n\n"
    },
    {
      "name": "UtilisateurController.java",
      "path": "src/main/java/com/polytech/polytech/controller/UtilisateurController.java",
      "content": "package com.polytech.polytech.controller;\n\nimport com.polytech.polytech.dto.UtilisateursRequestDto;\nimport com.polytech.polytech.dto.UtilisateursResponseDto;\nimport com.polytech.polytech.entity.Utilisateur;\nimport com.polytech.polytech.mapper.Utilisateursmapper;\nimport com.polytech.polytech.service.UtilisateurService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/utilisateurs&quot;)\npublic class UtilisateurController {\n    public UtilisateurService utilisateurService;\n    @Autowired\n    public UtilisateurController(UtilisateurService utilisateurServic) {\n        this.utilisateurService = utilisateurServic;\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;UtilisateursResponseDto&gt; getutilisateur(@PathVariable Long id){\n\n        UtilisateursResponseDto myuser= utilisateurService.getutilisateurparId(id);\n        return ResponseEntity.ok(myuser);\n    }\n    @GetMapping\n    public ResponseEntity&lt;List&lt;UtilisateursResponseDto&gt;&gt; getutilisateurs(){\n        List&lt;UtilisateursResponseDto&gt; utilisateurs =  utilisateurService.getallutilisateurs();\n        return ResponseEntity.ok(utilisateurs);\n    }\n    @PostMapping\n    public ResponseEntity&lt;UtilisateursResponseDto&gt; createutilisateur(@Valid @RequestBody UtilisateursRequestDto utilisateursRequestDto){\n\n        UtilisateursResponseDto user = utilisateurService.createuser(utilisateursRequestDto);\n        return ResponseEntity.ok(user);\n    }\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;UtilisateursResponseDto&gt; modifierutilisateur(@PathVariable Long id , @Valid @RequestBody UtilisateursRequestDto requestDto){\n        UtilisateursResponseDto user = utilisateurService.updateuser(id, requestDto);\n        return ResponseEntity.ok(user);\n    }\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteUtilisateur(@PathVariable Long id) {\n        utilisateurService.deleteUtilisateur(id);\n        return ResponseEntity.noContent().build();\n    }\n\n}\n\n"
    }
  ],
  "dto": [
    {
      "name": "BoiteRequestDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/BoiteRequestDto.java",
      "content": "package com.polytech.polytech.dto;\n\npublic class BoiteRequestDto {\n\n    private String nom;\n    private Integer quantite;\n    private String description;\n\n    private String latitude;\n    private String longitude;\n\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n\n    public String getNom() {\n        return nom;\n    }\n\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n\n    public Integer getQuantite() {\n        return quantite;\n    }\n\n    public void setQuantite(Integer quantite) {\n        this.quantite = quantite;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(String latitude) {\n        this.latitude = latitude;\n    }\n\n    public String getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(String longitude) {\n        this.longitude = longitude;\n    }\n\n\n}\n"
    },
    {
      "name": "BoiteResponseDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/BoiteResponseDto.java",
      "content": "package com.polytech.polytech.dto;\n\nimport com.polytech.polytech.entity.Coordonnees;\n\nimport lombok.Data;\n\n@Data\n\npublic class BoiteResponseDto {\n    // Getters and setters\n    private Long identifiant;\n    private String nom;\n    private Integer quantite;\n    private String description;\n    private String latitude;\n    private String longitude;\n\n}\n\n"
    },
    {
      "name": "CoordonneesRequestDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/CoordonneesRequestDto.java",
      "content": "package com.polytech.polytech.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CoordonneesRequestDto {\n    private String latitude;\n    private String longitude;\n\n    private Long boiteId;\n\n\n    public Long getBoiteId() {\n        return boiteId;\n    }\n\n    public void setBoiteId(Long boiteId) {\n        this.boiteId = boiteId;\n    }\n\n    public String getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(String longitude) {\n        this.longitude = longitude;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(String latitude) {\n        this.latitude = latitude;\n    }\n\n\n}\n"
    },
    {
      "name": "CoordonneesResponseDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/CoordonneesResponseDto.java",
      "content": "package com.polytech.polytech.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CoordonneesResponseDto {\n    private Long id;\n    private String latitude;\n    private String longitude;\n    private List&lt;Long&gt; boiteId;\n\n\n    public void setBoiteId(List&lt;Long&gt; boiteId) {\n        this.boiteId = boiteId;\n    }\n\n\n    public List&lt;Long&gt; getBoiteId() {\n        return boiteId;\n    }\n\n\n    public String getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(String longitude) {\n        this.longitude = longitude;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(String latitude) {\n        this.latitude = latitude;\n    }\n\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n}\n"
    },
    {
      "name": "ReservationRequestDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/ReservationRequestDto.java",
      "content": "package com.polytech.polytech.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ReservationRequestDto {\n    private Long utilisateurId;\n    private Long boiteId;\n    private Integer reservation;\n\n    public Long getBoiteId() {\n        return boiteId;\n    }\n\n    public void setBoiteId(Long boiteId) {\n        this.boiteId = boiteId;\n    }\n\n    public Long getUtilisateurId() {\n        return utilisateurId;\n    }\n\n    public void setUtilisateurId(Long utilisateurId) {\n        this.utilisateurId = utilisateurId;\n    }\n\n    public Integer getReservation() {\n        return reservation;\n    }\n\n    public void setReservation(Integer reservation) {\n        this.reservation = reservation;\n    }\n}\n\n"
    },
    {
      "name": "ReservationResponseDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/ReservationResponseDto.java",
      "content": "package com.polytech.polytech.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ReservationResponseDto {\n    private Long utilisateurId;\n    private Long boiteId;\n    private Integer reservation;\n\n    public Long getUtilisateurId() {\n        return utilisateurId;\n    }\n\n    public void setUtilisateurId(Long utilisateurId) {\n        this.utilisateurId = utilisateurId;\n    }\n\n    public Long getBoiteId() {\n        return boiteId;\n    }\n\n    public void setBoiteId(Long boiteId) {\n        this.boiteId = boiteId;\n    }\n\n    public Integer getReservation() {\n        return reservation;\n    }\n\n    public void setReservation(Integer reservation) {\n        this.reservation = reservation;\n    }\n\n\n}\n"
    },
    {
      "name": "UtilisateursRequestDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/UtilisateursRequestDto.java",
      "content": "package com.polytech.polytech.dto;\n\nimport jakarta.validation.constraints.Email;\nimport jakarta.validation.constraints.NotBlank;\n\npublic class UtilisateursRequestDto {\n    private String nom;\n    private String prenom;\n    @NotBlank(message = &quot;you should fill this&quot;)\n    @Email(message = &quot;mail required&quot;)\n    private String mail;\n    private String username;\n    private String password;\n\n    public String getNom() {\n        return nom;\n    }\n\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n        this.mail = mail;\n    }\n\n    public String getPrenom() {\n        return prenom;\n    }\n\n    public void setPrenom(String prenom) {\n        this.prenom = prenom;\n    }\n\n\n    public String getPassword() {\n        return password;\n    }\n}\n"
    },
    {
      "name": "UtilisateursResponseDto.java",
      "path": "src/main/java/com/polytech/polytech/dto/UtilisateursResponseDto.java",
      "content": "package com.polytech.polytech.dto;\n\n\nimport lombok.Data;\n\n@Data\npublic class UtilisateursResponseDto {\n\n    private Long id;\n    private String nom;\n    private String prenom;\n    private String mail;\n    private String username;\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n        this.mail = mail;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPrenom() {\n        return prenom;\n    }\n\n    public void setPrenom(String prenom) {\n        this.prenom = prenom;\n    }\n\n    public String getNom() {\n        return nom;\n    }\n\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n\n}\n"
    }
  ],
  "entity": [
    {
      "name": "Boite.java",
      "path": "src/main/java/com/polytech/polytech/entity/Boite.java",
      "content": "package com.polytech.polytech.entity;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;boite&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Boite {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long identifiant;\n\n    @Column(nullable = false)\n    private Integer quantite;\n    @Column(name = &quot;description&quot;)\n    private String description;\n    @Column(nullable = false)\n    private String nom;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;coordonnees_id&quot;, nullable = false)\n    @JsonManagedReference\n    private Coordonnees coordonnees;\n\n\n    public Long getId() {\n        return identifiant;\n    }\n}"
    },
    {
      "name": "Coordonnees.java",
      "path": "src/main/java/com/polytech/polytech/entity/Coordonnees.java",
      "content": "package com.polytech.polytech.entity;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;coordonnees&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Coordonnees {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(nullable = false, length = 100)\n    private String latitude;\n\n    @Column(nullable = false, length = 100)\n    private String longitude;\n\n    @OneToMany(mappedBy = &quot;coordonnees&quot;)\n    @JsonBackReference\n    private List&lt;Boite&gt; boites;\n\n\n\n    public Long getIdentifiant() {\n        return id;\n    }\n\n\n}\n"
    },
    {
      "name": "Reservation.java",
      "path": "src/main/java/com/polytech/polytech/entity/Reservation.java",
      "content": "package com.polytech.polytech.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\n@Entity\n@Table(name = &quot;reservation&quot;)\n@Data\npublic class Reservation {\n\n    @EmbeddedId\n    private ReservationId id;\n\n    @ManyToOne\n    @MapsId(&quot;utilisateurId&quot;)\n    @JoinColumn(name = &quot;utilisateur_id&quot;, nullable = false)\n    private Utilisateur utilisateur;\n\n    @ManyToOne\n    @MapsId(&quot;boiteId&quot;)\n    @JoinColumn(name = &quot;boite_id&quot;, nullable = false)\n    private Boite boite;\n\n    @Column(nullable = false)\n    private Integer reservation;\n}\n"
    },
    {
      "name": "ReservationId.java",
      "path": "src/main/java/com/polytech/polytech/entity/ReservationId.java",
      "content": "package com.polytech.polytech.entity;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport java.io.Serializable;\n\n@Embeddable\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ReservationId implements Serializable {\n\n    @Column(name = &quot;utilisateur_id&quot;, nullable = false)\n    private Long utilisateurId;\n\n    @Column(name = &quot;boite_id&quot;, nullable = false)\n    private Long boiteId;\n\n}\n"
    },
    {
      "name": "Utilisateur.java",
      "path": "src/main/java/com/polytech/polytech/entity/Utilisateur.java",
      "content": "package com.polytech.polytech.entity;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport jakarta.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;utilisateur&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Utilisateur {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String nom;\n\n    @Column(nullable = false)\n    private String prenom;\n\n    @Column(nullable = false, unique = true)\n    private String mail;\n\n    @Column(nullable = false, unique = true)\n    private String username;\n\n    @Column(nullable = false)\n    private String password;\n\n\n\n\n    @OneToMany(mappedBy = &quot;utilisateur&quot;, cascade = CascadeType.ALL)\n    @JsonManagedReference\n    private List&lt;Reservation&gt; reservations;\n\n\n    public void setemail(String mail) {\n        this.mail = mail;\n    }\n\n    public String getEmail() {\n        return mail;\n    }\n}\n\n"
    }
  ],
  "exception": [
    {
      "name": "BoiteInexistanteException.java",
      "path": "src/main/java/com/polytech/polytech/exception/BoiteInexistanteException.java",
      "content": "package com.polytech.polytech.exception;\n\npublic class BoiteInexistanteException extends RuntimeException {\n    public BoiteInexistanteException(String message) {\n        super(message);\n    }\n}\n"
    },
    {
      "name": "CoordonneesInexistantesException.java",
      "path": "src/main/java/com/polytech/polytech/exception/CoordonneesInexistantesException.java",
      "content": "package com.polytech.polytech.exception;\n\npublic class CoordonneesInexistantesException extends RuntimeException {\n    public CoordonneesInexistantesException(String message) {\n        super(message);\n    }\n}\n"
    },
    {
      "name": "GestionnaireException.java",
      "path": "src/main/java/com/polytech/polytech/exception/GestionnaireException.java",
      "content": "package com.polytech.polytech.exception;\n\nimport com.polytech.polytech.exception.BoiteInexistanteException;\nimport com.polytech.polytech.exception.CoordonneesInexistantesException;\nimport com.polytech.polytech.exception.UtilisateurInexistantException;\nimport org.apache.coyote.Response;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.NoSuchElementException;\n\n@ControllerAdvice\npublic class GestionnaireException {\n    //cette methode est pour les argument non valid par exemple : email ,nom ,etc : non valid ou vide (depend de ce que tu as utiliser dans RequestDto)\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; argumentNonValid(MethodArgumentNotValidException notre_exception) {\n        Map&lt;String, String&gt; listerreurs = new HashMap&lt;&gt;();\n        notre_exception.getBindingResult().getFieldErrors().forEach(error -&gt; listerreurs.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(listerreurs);\n    }\n\n    @ExceptionHandler(UtilisateurInexistantException.class)\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; gererUtilisateurInexistant(UtilisateurInexistantException notre_exception) {\n        Map&lt;String, String&gt; listerreurs = new HashMap&lt;&gt;();\n        listerreurs.put(&quot;id&quot;, &quot;Aucun utilisateur avec ce identifiant&quot;);\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(listerreurs);\n    }\n\n    @ExceptionHandler(BoiteInexistanteException.class)\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; gererBoiteInexistant(BoiteInexistanteException notre_exception) {\n        Map&lt;String, String&gt; listerreurs = new HashMap&lt;&gt;();\n        listerreurs.put(&quot;id&quot;, &quot;Aucun Boite avec ce identifiant&quot;);\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(listerreurs);\n    }\n\n    @ExceptionHandler(CoordonneesInexistantesException.class)\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; gererCoordonneesInexistant(CoordonneesInexistantesException notre_exception) {\n        Map&lt;String, String&gt; listerreurs = new HashMap&lt;&gt;();\n        listerreurs.put(&quot;id&quot;, &quot;Aucun Coordonnees avec ce identifiant&quot;);\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(listerreurs);\n    }\n}\n"
    },
    {
      "name": "ReservationInexistanteException.java",
      "path": "src/main/java/com/polytech/polytech/exception/ReservationInexistanteException.java",
      "content": "package com.polytech.polytech.exception;\n\npublic class ReservationInexistanteException extends RuntimeException {\n    public ReservationInexistanteException(String message) {\n        super(message);\n    }\n}\n"
    },
    {
      "name": "UtilisateurInexistantException.java",
      "path": "src/main/java/com/polytech/polytech/exception/UtilisateurInexistantException.java",
      "content": "package com.polytech.polytech.exception;\n\npublic class UtilisateurInexistantException extends RuntimeException {\n    public UtilisateurInexistantException(String message) {\n        super(message);\n    }\n}\n"
    }
  ],
  "mapper": [
    {
      "name": "BoiteMapper.java",
      "path": "src/main/java/com/polytech/polytech/mapper/BoiteMapper.java",
      "content": "package com.polytech.polytech.mapper;\n\nimport com.polytech.polytech.dto.BoiteRequestDto;\nimport com.polytech.polytech.dto.BoiteResponseDto;\nimport com.polytech.polytech.entity.Boite;\nimport org.springframework.stereotype.Component;\n\n\nimport com.polytech.polytech.dto.BoiteRequestDto;\nimport com.polytech.polytech.dto.BoiteResponseDto;\nimport com.polytech.polytech.entity.Boite;\n\npublic class BoiteMapper {\n\n    public static Boite toEntity(BoiteRequestDto dto) {\n        Boite boite = new Boite();\n        boite.setNom(dto.getNom());\n        boite.setQuantite(dto.getQuantite());\n        boite.setDescription(dto.getDescription());\n        return boite;\n    }\n\n    public static BoiteResponseDto toDTO(Boite boite) {\n        BoiteResponseDto dto = new BoiteResponseDto();\n        dto.setIdentifiant(boite.getIdentifiant());\n        dto.setNom(boite.getNom());\n        dto.setQuantite(boite.getQuantite());\n        dto.setDescription(boite.getDescription());\n\n        if (boite.getCoordonnees() != null) {\n            dto.setLatitude(boite.getCoordonnees().getLatitude());\n            dto.setLongitude(boite.getCoordonnees().getLongitude());\n        }\n\n        return dto;\n    }\n}"
    },
    {
      "name": "CoordonneesMapper.java",
      "path": "src/main/java/com/polytech/polytech/mapper/CoordonneesMapper.java",
      "content": "package com.polytech.polytech.mapper;\n\nimport com.polytech.polytech.dto.CoordonneesRequestDto;\nimport com.polytech.polytech.dto.CoordonneesResponseDto;\nimport com.polytech.polytech.entity.Boite;\nimport com.polytech.polytech.entity.Coordonnees;\n\nimport java.util.stream.Collectors;\n\npublic class CoordonneesMapper {\n\n    public static Coordonnees toEntity(CoordonneesRequestDto dto) {\n        Coordonnees coord = new Coordonnees();\n        coord.setLatitude(dto.getLatitude());\n        coord.setLongitude(dto.getLongitude());\n        return coord;\n    }\n\n    public static CoordonneesResponseDto toDTO(Coordonnees coord) {\n        return new CoordonneesResponseDto(\n                coord.getId(),\n                coord.getLatitude(),\n                coord.getLongitude(),\n                coord.getBoites() != null\n                        ? coord.getBoites().stream()\n                        .map(Boite::getId)\n                        .collect(Collectors.toList())\n                        : null\n        );\n    }\n}\n"
    },
    {
      "name": "ReservationMapper.java",
      "path": "src/main/java/com/polytech/polytech/mapper/ReservationMapper.java",
      "content": "package com.polytech.polytech.mapper;\n\nimport com.polytech.polytech.dto.ReservationRequestDto;\nimport com.polytech.polytech.dto.ReservationResponseDto;\nimport com.polytech.polytech.entity.Boite;\nimport com.polytech.polytech.entity.Reservation;\nimport com.polytech.polytech.entity.ReservationId;\nimport com.polytech.polytech.entity.Utilisateur;\n\npublic class ReservationMapper {\n    public static Reservation toEntity(ReservationRequestDto dto, Utilisateur utilisateur, Boite boite) {\n        Reservation reservation = new Reservation();\n        reservation.setId(new ReservationId(dto.getUtilisateurId(), dto.getBoiteId()));\n        reservation.setUtilisateur(utilisateur);\n        reservation.setBoite(boite);\n        reservation.setReservation(dto.getReservation() != null ? dto.getReservation() : 1);\n        return reservation;\n    }\n\n    public static ReservationResponseDto toDTO(Reservation reservation) {\n        ReservationResponseDto dto = new ReservationResponseDto();\n        dto.setUtilisateurId(reservation.getUtilisateur().getId());\n        dto.setBoiteId(reservation.getBoite().getId());\n        dto.setReservation(reservation.getReservation());\n        return dto;\n    }\n\n}\n\n\n"
    },
    {
      "name": "Utilisateursmapper.java",
      "path": "src/main/java/com/polytech/polytech/mapper/Utilisateursmapper.java",
      "content": "package com.polytech.polytech.mapper;\n\nimport com.polytech.polytech.dto.UtilisateursRequestDto;\nimport com.polytech.polytech.dto.UtilisateursResponseDto;\nimport com.polytech.polytech.entity.Utilisateur;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Utilisateursmapper {\n\n    // Entite -&gt; DTO\n    public static UtilisateursResponseDto toDTO(Utilisateur entite) {\n        UtilisateursResponseDto dto = new UtilisateursResponseDto();\n        dto.setId(entite.getId());\n        dto.setNom(entite.getNom());\n        dto.setPrenom(entite.getPrenom());\n        dto.setMail(entite.getEmail());\n        dto.setUsername(entite.getUsername());\n\n        return dto;\n    }\n\n    // DTO -&gt; Entite\n    public static Utilisateur toEntity(UtilisateursRequestDto dto) {\n\n\n        Utilisateur entite = new Utilisateur();\n        entite.setNom(dto.getNom());\n        entite.setPrenom(dto.getPrenom());\n        entite.setemail(dto.getMail());\n        entite.setUsername(dto.getUsername());\n        entite.setPassword(dto.getPassword());\n\n        return entite;\n    }\n}\n"
    }
  ],
  "repository": [
    {
      "name": "BoiteRepository.java",
      "path": "src/main/java/com/polytech/polytech/repository/BoiteRepository.java",
      "content": "package com.polytech.polytech.repository;\n\nimport com.polytech.polytech.entity.Boite;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface BoiteRepository extends JpaRepository&lt;Boite,Long&gt; {\n}\n"
    },
    {
      "name": "CoordonneesRepository.java",
      "path": "src/main/java/com/polytech/polytech/repository/CoordonneesRepository.java",
      "content": "package com.polytech.polytech.repository;\n\nimport com.polytech.polytech.entity.Coordonnees;\nimport com.polytech.polytech.entity.Utilisateur;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport java.util.Optional;\n@Repository\npublic interface CoordonneesRepository extends JpaRepository&lt;Coordonnees, Long&gt; {\n    Optional&lt;Coordonnees&gt; findByBoites_Id(Long boiteId);\n}\n"
    },
    {
      "name": "ReservationRepository.java",
      "path": "src/main/java/com/polytech/polytech/repository/ReservationRepository.java",
      "content": "package com.polytech.polytech.repository;\n\nimport com.polytech.polytech.entity.Reservation;\nimport com.polytech.polytech.entity.ReservationId;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface ReservationRepository extends JpaRepository&lt;Reservation, ReservationId&gt; {\n\n}\n"
    },
    {
      "name": "Utilisateursrepository.java",
      "path": "src/main/java/com/polytech/polytech/repository/Utilisateursrepository.java",
      "content": "package com.polytech.polytech.repository;\n\nimport com.polytech.polytech.entity.Utilisateur;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface Utilisateursrepository extends JpaRepository&lt;Utilisateur, Long&gt; {\n    boolean existsById(Long id);\n}"
    }
  ],
  "service": [
    {
      "name": "BoiteService.java",
      "path": "src/main/java/com/polytech/polytech/service/BoiteService.java",
      "content": "package com.polytech.polytech.service;\n\nimport com.polytech.polytech.dto.BoiteRequestDto;\nimport com.polytech.polytech.dto.BoiteResponseDto;\nimport com.polytech.polytech.entity.Boite;\nimport com.polytech.polytech.mapper.BoiteMapper;\nimport com.polytech.polytech.repository.BoiteRepository;\nimport com.polytech.polytech.exception.BoiteInexistanteException;\nimport jakarta.validation.Valid;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport com.polytech.polytech.entity.Coordonnees;\n\nimport com.polytech.polytech.exception.CoordonneesInexistantesException;\nimport com.polytech.polytech.repository.CoordonneesRepository;\n\n@Service\npublic class BoiteService {\n    private final CoordonneesRepository coordonneesRepo;\n    private final BoiteRepository boiteRepo;\n\n    public BoiteService(BoiteRepository boiteRepo, CoordonneesRepository coordonneesRepo) {\n        this.coordonneesRepo = coordonneesRepo;\n        this.boiteRepo = boiteRepo;\n    }\n\n    public BoiteResponseDto createBoite(BoiteRequestDto boiteRequestDto) {\n        // First, create and save the Coordonnees\n        Coordonnees coordonnees = new Coordonnees();\n        coordonnees.setLatitude(boiteRequestDto.getLatitude());\n        coordonnees.setLongitude(boiteRequestDto.getLongitude());\n        Coordonnees savedCoordonnees = coordonneesRepo.save(coordonnees);\n\n        // Then create the Boite with the saved Coordonnees\n        Boite boite = BoiteMapper.toEntity(boiteRequestDto);\n        boite.setCoordonnees(savedCoordonnees);\n\n        Boite savedBoite = boiteRepo.save(boite);\n        return BoiteMapper.toDTO(savedBoite);\n    }\n\n    public void deleteBoite(Long id) {\n        Boite boite = boiteRepo.findById(id)\n                .orElseThrow(() -&gt; new BoiteInexistanteException(&quot;Boite inexistante : &quot; + id));\n        boiteRepo.delete(boite);\n    }\n\n    public List&lt;BoiteResponseDto&gt; getAllBoites() {\n        List&lt;Boite&gt; boites = boiteRepo.findAll();\n        return boites.stream()\n                .map(BoiteMapper::toDTO)\n                .collect(Collectors.toList());\n\n    }\n\n    public BoiteResponseDto getBoiteParId(Long id) {\n        Boite boite = boiteRepo.findById(id)\n                .orElseThrow(() -&gt; new BoiteInexistanteException(&quot;Boite inexistante : &quot; + id));\n        return BoiteMapper.toDTO(boite);\n    }\n\n    public BoiteResponseDto updateBoite(Long id, @Valid BoiteRequestDto boiteRequestDto) {\n        Boite boite = boiteRepo.findById(id)\n                .orElseThrow(() -&gt; new BoiteInexistanteException(&quot;Boite inexistante : &quot; + id));\n\n        Coordonnees coordonnees = coordonneesRepo.findById(boite.getCoordonnees().getIdentifiant())\n                .orElseThrow(() -&gt; new CoordonneesInexistantesException(&quot;Coordonnees inexistantes : &quot;\n                        + boite.getCoordonnees().getIdentifiant()));\n\n        boite.setNom(boiteRequestDto.getNom());\n        boite.setQuantite(boiteRequestDto.getQuantite());\n        boite.setDescription(boiteRequestDto.getDescription());\n\n        coordonnees.setLatitude(boiteRequestDto.getLatitude());\n        coordonnees.setLongitude(boiteRequestDto.getLongitude());\n\n        Boite updatedBoite = boiteRepo.save(boite);\n        return BoiteMapper.toDTO(updatedBoite);\n    }\n}\n"
    },
    {
      "name": "CoordonneesService.java",
      "path": "src/main/java/com/polytech/polytech/service/CoordonneesService.java",
      "content": "package com.polytech.polytech.service;\n\nimport com.polytech.polytech.dto.CoordonneesRequestDto;\nimport com.polytech.polytech.dto.CoordonneesResponseDto;\nimport com.polytech.polytech.entity.Boite;\nimport com.polytech.polytech.entity.Coordonnees;\nimport com.polytech.polytech.exception.BoiteInexistanteException;\nimport com.polytech.polytech.exception.CoordonneesInexistantesException;\nimport com.polytech.polytech.mapper.CoordonneesMapper;\nimport com.polytech.polytech.repository.BoiteRepository;\nimport com.polytech.polytech.repository.CoordonneesRepository;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Service\npublic class CoordonneesService {\n\n    private final CoordonneesRepository coordonneesRepo;\n    private final BoiteRepository boiteRepo;\n\n    public CoordonneesService(CoordonneesRepository coordonneesRepo, BoiteRepository boiteRepo) {\n        this.coordonneesRepo = coordonneesRepo;\n        this.boiteRepo = boiteRepo;\n    }\n\n    public CoordonneesResponseDto getCoordonneesParId(Long id) {\n        Coordonnees coord = coordonneesRepo.findById(id)\n                .orElseThrow(() -&gt; new CoordonneesInexistantesException(&quot;Coordonn\u00e9es inexistantes : &quot; + id));\n        return CoordonneesMapper.toDTO(coord);\n    }\n\n    public List&lt;CoordonneesResponseDto&gt; getAllCoordonnees() {\n        return coordonneesRepo.findAll()\n                .stream()\n                .map(CoordonneesMapper::toDTO)\n                .collect(Collectors.toList());\n    }\n\n    public CoordonneesResponseDto createCoordonnees(CoordonneesRequestDto requestDto) {\n        Boite boite = boiteRepo.findById(requestDto.getBoiteId())\n                .orElseThrow(() -&gt; new BoiteInexistanteException(&quot;Boite inexistante : &quot; + requestDto.getBoiteId()));\n\n        Coordonnees coord = CoordonneesMapper.toEntity(requestDto);\n        if (coord.getBoites() == null) {\n            coord.setBoites(new ArrayList&lt;&gt;());\n        }\n\n        coord.getBoites().add(boite);\n\n        boite.setCoordonnees(coord);\n\n        Coordonnees saved = coordonneesRepo.save(coord);\n        return CoordonneesMapper.toDTO(saved);\n    }\n\n    public CoordonneesResponseDto updateCoordonnees(Long id, CoordonneesRequestDto requestDto) {\n        Coordonnees coord = coordonneesRepo.findById(id)\n                .orElseThrow(() -&gt; new CoordonneesInexistantesException(&quot;Coordonn\u00e9es inexistantes : &quot; + id));\n\n        Boite boite = boiteRepo.findById(requestDto.getBoiteId())\n                .orElseThrow(() -&gt; new BoiteInexistanteException(&quot;Boite inexistante : &quot; + requestDto.getBoiteId()));\n\n        coord.setLatitude(requestDto.getLatitude());\n        coord.setLongitude(requestDto.getLongitude());\n        if (coord.getBoites() == null) {\n            coord.setBoites(new ArrayList&lt;&gt;());\n        }\n\n        coord.getBoites().add(boite);\n\n        boite.setCoordonnees(coord);\n\n        Coordonnees updated = coordonneesRepo.save(coord);\n        return CoordonneesMapper.toDTO(updated);\n    }\n\n    public void deleteCoordonnees(Long id) {\n        Coordonnees coord = coordonneesRepo.findById(id)\n                .orElseThrow(() -&gt; new CoordonneesInexistantesException(&quot;Coordonn\u00e9es inexistantes : &quot; + id));\n        coordonneesRepo.delete(coord);\n    }\n}\n"
    },
    {
      "name": "ReservationService.java",
      "path": "src/main/java/com/polytech/polytech/service/ReservationService.java",
      "content": "package com.polytech.polytech.service;\n\nimport com.polytech.polytech.dto.ReservationRequestDto;\nimport com.polytech.polytech.dto.ReservationResponseDto;\nimport com.polytech.polytech.entity.Boite;\nimport com.polytech.polytech.entity.Reservation;\nimport com.polytech.polytech.entity.ReservationId;\nimport com.polytech.polytech.entity.Utilisateur;\nimport com.polytech.polytech.exception.BoiteInexistanteException;\nimport com.polytech.polytech.exception.ReservationInexistanteException;\nimport com.polytech.polytech.exception.UtilisateurInexistantException;\nimport com.polytech.polytech.mapper.ReservationMapper;\nimport com.polytech.polytech.repository.BoiteRepository;\nimport com.polytech.polytech.repository.ReservationRepository;\nimport com.polytech.polytech.repository.Utilisateursrepository;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Service\npublic class ReservationService {\n\n    public ReservationRepository reservationRepository;\n    public Utilisateursrepository utilisateursrepository;\n    public BoiteRepository boiteRepository;\n\n    public ReservationService(ReservationRepository repo1, Utilisateursrepository repo2, BoiteRepository repo3) {\n        this.reservationRepository = repo1;\n        this.utilisateursrepository = repo2;\n        this.boiteRepository = repo3;\n    }\n\n    public List&lt;ReservationResponseDto&gt; getallReservations() {\n        List&lt;Reservation&gt; reservations = reservationRepository.findAll();\n        List&lt;ReservationResponseDto&gt; response = reservations.stream().map(ReservationMapper::toDTO)\n                .collect(Collectors.toList());\n        return response;\n    }\n\n    public ReservationResponseDto createReservation(ReservationRequestDto reservationRequestDto) {\n        Utilisateur utilisateur = utilisateursrepository.findById(reservationRequestDto.getUtilisateurId())\n                .orElseThrow(() -&gt; new UtilisateurInexistantException(&quot;Utilisateur inexistant&quot;));\n        Boite boite = boiteRepository.findById(reservationRequestDto.getBoiteId())\n                .orElseThrow(() -&gt; new BoiteInexistanteException(&quot;Boite inexistante&quot;));\n        Reservation notre_reservation = ReservationMapper.toEntity(reservationRequestDto, utilisateur, boite);\n        reservationRepository.save(notre_reservation);\n        return ReservationMapper.toDTO(notre_reservation);\n    }\n\n    public ReservationResponseDto updateReservation(Long utilisateurId, Long boiteId,\n                                                    ReservationRequestDto reservationRequestDto) {\n\n        ReservationId reservationId = new ReservationId(utilisateurId, boiteId);\n\n\n        Reservation existingReservation = reservationRepository.findById(reservationId)\n                .orElseThrow(() -&gt; new ReservationInexistanteException(&quot;Reservation inexistante&quot;));\n\n\n        if (reservationRequestDto.getReservation() != null) {\n            existingReservation.setReservation(reservationRequestDto.getReservation());\n        }\n\n\n        reservationRepository.save(existingReservation);\n        return ReservationMapper.toDTO(existingReservation);\n    }\n\n    public void deleteReservation(Long utilisateurId, Long boiteId) {\n\n        ReservationId reservationId = new ReservationId(utilisateurId, boiteId);\n\n\n        if (!reservationRepository.existsById(reservationId)) {\n            throw new ReservationInexistanteException(&quot;Reservation inexistante&quot;);\n        }\n\n\n        reservationRepository.deleteById(reservationId);\n    }\n\n}\n\n"
    },
    {
      "name": "UtilisateurService.java",
      "path": "src/main/java/com/polytech/polytech/service/UtilisateurService.java",
      "content": "package com.polytech.polytech.service;\n\nimport com.polytech.polytech.dto.UtilisateursRequestDto;\nimport com.polytech.polytech.dto.UtilisateursResponseDto;\nimport com.polytech.polytech.entity.Boite;\nimport com.polytech.polytech.entity.Utilisateur;\nimport com.polytech.polytech.exception.BoiteInexistanteException;\nimport com.polytech.polytech.exception.UtilisateurInexistantException;\nimport com.polytech.polytech.mapper.Utilisateursmapper;\nimport com.polytech.polytech.repository.Utilisateursrepository;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Service\npublic class UtilisateurService {\n    public Utilisateursrepository repo;\n\n    public UtilisateurService(Utilisateursrepository repo) {\n        this.repo = repo;\n    }\n\n    public UtilisateursResponseDto getutilisateurparId(Long id) {\n        if (!repo.existsById(id)) {\n            throw new UtilisateurInexistantException(&quot;Utilisateur inexistant dans le system&quot; + id);\n        }\n        Utilisateur user = repo.findById(id).get();\n        UtilisateursResponseDto myuser = Utilisateursmapper.toDTO(user);\n        return myuser;\n    }\n\n    public List&lt;UtilisateursResponseDto&gt; getallutilisateurs() {\n        List&lt;Utilisateur&gt; utilisateurs = repo.findAll();\n        List&lt;UtilisateursResponseDto&gt; utilisateursResponseDtos = utilisateurs.stream().map(Utilisateursmapper::toDTO)\n                .collect(Collectors.toList());\n        return utilisateursResponseDtos;\n    }\n\n    public UtilisateursResponseDto createuser(UtilisateursRequestDto utilisateursRequestDto) {\n        Utilisateur user = Utilisateursmapper.toEntity(utilisateursRequestDto);\n        Utilisateur utilisateur = repo.save(user);\n        return Utilisateursmapper.toDTO(utilisateur);\n    }\n\n    public UtilisateursResponseDto updateuser(Long id, UtilisateursRequestDto utilisateursRequestDto) {\n\n        Utilisateur user = repo.findById(id)\n                .orElseThrow(() -&gt; new UtilisateurInexistantException(&quot;Utilisateur inexistant&quot;));\n        user.setNom(utilisateursRequestDto.getNom());\n        user.setPrenom(utilisateursRequestDto.getPrenom());\n        user.setMail(utilisateursRequestDto.getMail());\n        user.setUsername(utilisateursRequestDto.getUsername());\n        user.setPassword(utilisateursRequestDto.getPassword());\n\n        return Utilisateursmapper.toDTO(repo.save(user));\n\n    }\n\n    public void deleteUtilisateur(Long id) {\n        Utilisateur user = repo.findById(id)\n                .orElseThrow(() -&gt; new UtilisateurInexistantException(&quot;Utilisateur inexistante : &quot; + id));\n        repo.delete(user);\n    }\n}\n"
    }
  ],
  "main": [
    {
      "name": "PolytechApplication.java",
      "path": "src/main/java/com/polytech/polytech/PolytechApplication.java",
      "content": "package com.polytech.polytech;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class PolytechApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(PolytechApplication.class, args);\n\t}\n\n}\n"
    }
  ]
};